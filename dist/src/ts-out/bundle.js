!function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)t.d(e,o,function(r){return n[r]}.bind(null,o));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=2)}([function(n,r,t){"use strict";function e(n){for(var r="",t=n.length-1;t>=0;t--)r+=n[t];return r}r.__esModule=!0,r.reverseString=e,r.isPalindrome=function(n){var r=n.toString();return r===e(r)},r.flatten=function n(r){return r.reduce(function(r,t){return Array.isArray(t)&&(t=n(t)),r.concat(t)},[])},r.cloneData=function(n){return JSON.parse(JSON.stringify(n))},r.numberSort=function(n,r){return n-r}},function(n,r,t){"use strict";r.__esModule=!0;var e=t(0);function o(n){if(0===n)throw"Zero has an infinite number of factors.";if(n%1!=0)throw"Factoring floating point numbers is pointless.";var r=!1;n<0&&(r=!0,n=Math.abs(n));for(var t=[1,n],o=2;o<Math.ceil(Math.sqrt(n))+1;o++)if(n%o==0&&!t.includes(o)){t.push(o);var i=n/o;o!==i&&t.push(i)}if(r){for(var a=[],u=0,c=t;u<c.length;u++){var f=c[u];a.push(-1*f)}t=t.concat(a)}return t.sort(e.numberSort)}function i(n){if(n%1!=0)return!1;if(n<2)return!1;for(var t=0,e=r.json.prime.data;t<e.length;t++){var i=e[t];if(n%i==0)return n===i}return!(o(n).length>2)&&(r.json.prime.data.push(n),!0)}function a(n){var r=o(n);if(2===r.length)return[r[1]];var t=[];t.push(r[1]),t.push(n/r[1]);for(var u=0;u<t.length;u++)i(t[u])||(t[u]=a(t[u]));return e.flatten(t).sort(e.numberSort)}r.json=t(3),r.fibonacci=function(n){if(n<r.json.fibonacci.data.length)return r.json.fibonacci.data[n];for(;n>=r.json.fibonacci.data.length;){var t=r.json.fibonacci.data.length-1,e=r.json.fibonacci.data.length-2,o=r.json.fibonacci.data[t],i=r.json.fibonacci.data[e];r.json.fibonacci.data.push(o+i)}return r.json.fibonacci.data[n]},r.getFactors=o,r.isPrime=i,r.getPrimeFactors=function(n){for(var r=[],t=0,a=o(n);t<a.length;t++){var u=a[t];i(u)&&r.push(u)}return r.sort(e.numberSort)},r.primeComposition=a,console.log(a(360))},function(n,r,t){"use strict";r.__esModule=!0;var e=t(0),o=t(1);for(var i=0;i<1e3;i++)o.isPrime(i);console.log("Updating saved data...");var a=t(1);console.log("Sorting prime numbers..."),a.json.prime.data.sort(e.numberSort),console.log("Writing to file..."),t(4).writeFile("./utility/seq.json",JSON.stringify(a.json,null,4),function(n){n&&console.error(n),console.log("Save completed.")})},function(n){n.exports={prime:{comment:"Prime numbers found so far.",data:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1471,6857]},fibonacci:{comment:"The numbers in the fibonacci sequence (starting from 1), that have been calculated so far.",data:[1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887]}}},function(n,r){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzLWluL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzLWluL21hdGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzLWluL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmV2ZXJzZVN0cmluZyIsInN0cjEiLCJzdHIyIiwibGVuZ3RoIiwiaXNQYWxpbmRyb21lIiwibnVtIiwic3RyIiwidG9TdHJpbmciLCJmbGF0dGVuIiwiYXJyYXkiLCJyZWR1Y2UiLCJmbGF0IiwibmV4dCIsIkFycmF5IiwiaXNBcnJheSIsImNvbmNhdCIsImNsb25lRGF0YSIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJudW1iZXJTb3J0IiwiYSIsImIiLCJ1dGlsIiwiZ2V0RmFjdG9ycyIsImlzTmVnYXRpdmUiLCJNYXRoIiwiYWJzIiwiZmFjdG9ycyIsImNlaWwiLCJzcXJ0IiwiaW5jbHVkZXMiLCJwdXNoIiwiaiIsIm5lZ0ZhY3RvcnMiLCJfaSIsImZhY3RvcnNfMSIsImZhY3RvciIsInNvcnQiLCJpc1ByaW1lIiwiX2EiLCJqc29uIiwicHJpbWUiLCJwcmltZUNvbXBvc2l0aW9uIiwicHJpbWVDb21wb3NpdCIsImZpYm9uYWNjaSIsImluZGV4IiwiYV8iLCJiXyIsImdldFByaW1lRmFjdG9ycyIsInByaW1lRmFjdG9ycyIsImZhY3RvcnNfMiIsImNvbnNvbGUiLCJsb2ciLCJtYXRoIiwibWF0aF8xIiwid3JpdGVGaWxlIiwiZXJyIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0s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dEIsT0FBT2EsRUFBYVosS0FBS2YsRUFBS0gsYUFJaEN2RCxFQUFBOEUsbUJBaUJBUyxRQUFRQyxJQUFJVixFQUFpQixvREM1RzdCLElBQUFwQixFQUFBNUQsRUFBQSxHQUNBMkYsRUFBQTNGLEVBQUEsR0F5R0EsSUFBSyxJQUFJSSxFQUFJLEVBQUdBLEVBQUksSUFBTUEsSUFDeEJ1RixFQUFLZixRQUFReEUsR0FJZnFGLFFBQVFDLElBQUksMEJBQ1osSUFBQUUsRUFBQTVGLEVBQUEsR0FFQXlGLFFBQVFDLElBQUksNEJBQ1pFLEVBQUFkLEtBQUtDLE1BQU0xQixLQUFLc0IsS0FBS2YsRUFBS0gsWUFFMUJnQyxRQUFRQyxJQUFJLHNCQUNFMUYsRUFBUSxHQUNuQjZGLFVBQVUscUJBQXNCdkMsS0FBS0UsVUFBVW9DLEVBQUFkLEtBQU0sS0FBTSxHQUFJLFNBQUNnQixHQUM3REEsR0FDRkwsUUFBUU0sTUFBTUQsR0FFaEJMLFFBQVFDLElBQUkiLCJmaWxlIjoiLi9zcmMvdHMtb3V0L2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsIi8vIFJldHVybiBhIHN0cmluZyBiYWNrd2FyZHMuIFwiQUJDXCIgdG8gXCJDQkFcIlxuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2VTdHJpbmcoc3RyMTogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHN0cjI6IHN0cmluZyA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSBzdHIxLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgc3RyMiArPSBzdHIxW2ldO1xuICB9XG4gIHJldHVybiBzdHIyO1xufVxuXG4vLyBDaGVjayBpZiBOIGlzIGEgUGFsaW5kcm9tZS4gXG5leHBvcnQgZnVuY3Rpb24gaXNQYWxpbmRyb21lKG51bTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGxldCBzdHI6IHN0cmluZyA9IG51bS50b1N0cmluZygpO1xuICByZXR1cm4gc3RyID09PSByZXZlcnNlU3RyaW5nKHN0cik7XG59XG5cbi8vIEZsYXR0ZW4gYW4gTi1kaW1lbnNpb25hbCBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKGFycmF5OiBhbnlbXSk6IGFueVtdIHtcbiAgcmV0dXJuIGFycmF5LnJlZHVjZSgoZmxhdCwgbmV4dCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICBuZXh0ID0gZmxhdHRlbihuZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGZsYXQuY29uY2F0KG5leHQpO1xuICB9LCBbXSk7XG59XG5cbi8vIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHRoZSBlbnRlcmVkIGRhdGEuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEYXRhKGRhdGE6IGFueSk6IGFueSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbn1cblxuLy8gU29ydCBudW1lcmljYWxseS4gVXNlIGZvciBoaWdoZXIgb3JkZXIgYXJyYXkgbWV0aG9kcy5cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJTb3J0KGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gIHJldHVybiBhIC0gYjtcbn0iLCJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBsZXQganNvbjogYW55ID0gcmVxdWlyZShcIi4uL3NlcS5qc29uXCIpO1xuXG4vLyBHZXQgTnRoIG51bWJlciBpbiB0aGUgZmlib25hY2NpIHNlcXVlbmNlLlxuZXhwb3J0IGZ1bmN0aW9uIGZpYm9uYWNjaShpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKGluZGV4IDwganNvbi5maWJvbmFjY2kuZGF0YS5sZW5ndGgpIHtcbiAgICByZXR1cm4ganNvbi5maWJvbmFjY2kuZGF0YVtpbmRleF07XG4gIH1cbiAgd2hpbGUgKGluZGV4ID49IGpzb24uZmlib25hY2NpLmRhdGEubGVuZ3RoKSB7XG4gICAgbGV0IGFfOiBudW1iZXIgPSBqc29uLmZpYm9uYWNjaS5kYXRhLmxlbmd0aCAtIDE7XG4gICAgbGV0IGJfOiBudW1iZXIgPSBqc29uLmZpYm9uYWNjaS5kYXRhLmxlbmd0aCAtIDI7XG4gICAgbGV0IGE6IG51bWJlciA9IGpzb24uZmlib25hY2NpLmRhdGFbYV9dO1xuICAgIGxldCBiOiBudW1iZXIgPSBqc29uLmZpYm9uYWNjaS5kYXRhW2JfXTtcbiAgICBqc29uLmZpYm9uYWNjaS5kYXRhLnB1c2goYSArIGIpO1xuICB9XG4gIHJldHVybiBqc29uLmZpYm9uYWNjaS5kYXRhW2luZGV4XTtcbn1cblxuLy8gUmV0dXJuIGFuIGFycmF5IG9mIGFsbCBvZiB0aGUgZmFjdG9ycyBvZiBOLlxuZXhwb3J0IGZ1bmN0aW9uIGdldEZhY3RvcnMobnVtOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIGlmIChudW0gPT09IDApIHtcbiAgICB0aHJvdyBcIlplcm8gaGFzIGFuIGluZmluaXRlIG51bWJlciBvZiBmYWN0b3JzLlwiXG4gIH1cbiAgaWYgKG51bSAlIDEgIT09IDApIHtcbiAgICB0aHJvdyBcIkZhY3RvcmluZyBmbG9hdGluZyBwb2ludCBudW1iZXJzIGlzIHBvaW50bGVzcy5cIlxuICB9XG4gIGxldCBpc05lZ2F0aXZlOiBib29sZWFuID0gZmFsc2U7XG4gIGlmIChudW0gPCAwKSB7XG4gICAgaXNOZWdhdGl2ZSA9IHRydWU7XG4gICAgbnVtID0gTWF0aC5hYnMobnVtKTtcbiAgfVxuICBsZXQgZmFjdG9yczogbnVtYmVyW10gPSBbMSwgbnVtXTtcbiAgZm9yIChsZXQgaTogbnVtYmVyID0gMjsgaSA8IE1hdGguY2VpbChNYXRoLnNxcnQobnVtKSkgKyAxOyBpKyspIHtcbiAgICBpZiAobnVtICUgaSA9PT0gMCkge1xuICAgICAgaWYgKCFmYWN0b3JzLmluY2x1ZGVzKGkpKSB7XG4gICAgICAgIGZhY3RvcnMucHVzaChpKTtcbiAgICAgICAgbGV0IGo6IG51bWJlciA9IG51bSAvIGk7XG4gICAgICAgIGlmIChpICE9PSBqKSB7XG4gICAgICAgICAgZmFjdG9ycy5wdXNoKGopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgbGV0IG5lZ0ZhY3RvcnM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgZmFjdG9yIG9mIGZhY3RvcnMpIHtcbiAgICAgIG5lZ0ZhY3RvcnMucHVzaChmYWN0b3IgKiAtMSk7XG4gICAgfVxuICAgIGZhY3RvcnMgPSBmYWN0b3JzLmNvbmNhdChuZWdGYWN0b3JzKTtcbiAgfVxuICByZXR1cm4gZmFjdG9ycy5zb3J0KHV0aWwubnVtYmVyU29ydCk7XG59XG5cbi8vIFRlc3QgTiBmb3IgcHJpbWFsaXR5LlxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWUobnVtOiBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKG51bSAlIDEgIT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG51bSA8IDIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgcHJpbWUgb2YganNvbi5wcmltZS5kYXRhKSB7XG4gICAgaWYgKG51bSAlIHByaW1lID09PSAwKSB7XG4gICAgICBpZiAobnVtID09PSBwcmltZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGZhY3RvcnM6IG51bWJlcltdID0gZ2V0RmFjdG9ycyhudW0pO1xuICBpZiAoZmFjdG9ycy5sZW5ndGggPiAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGpzb24ucHJpbWUuZGF0YS5wdXNoKG51bSk7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBSZXR1cm4gYW4gYXJyYXkgb2YgcHJpbWUgZmFjdG9ycyBvZiBOLlxuZXhwb3J0IGZ1bmN0aW9uIGdldFByaW1lRmFjdG9ycyhudW06IG51bWJlcik6IG51bWJlcltdIHtcbiAgbGV0IGZhY3RvcnM6IG51bWJlcltdID0gZ2V0RmFjdG9ycyhudW0pO1xuICBsZXQgcHJpbWVGYWN0b3JzOiBudW1iZXJbXSA9IFtdO1xuICBmb3IgKGxldCBmYWN0b3Igb2YgZmFjdG9ycykge1xuICAgIGlmIChpc1ByaW1lKGZhY3RvcikpIHtcbiAgICAgIHByaW1lRmFjdG9ycy5wdXNoKGZhY3Rvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcmltZUZhY3RvcnMuc29ydCh1dGlsLm51bWJlclNvcnQpO1xufVxuXG4vLyBSZXR1cm4gYW4gYXJyYXkgb2YgdGhlIHByaW1lIGNvbXBvc2l0aW9uIG9mIE4uXG5leHBvcnQgZnVuY3Rpb24gcHJpbWVDb21wb3NpdGlvbihudW06IG51bWJlcik6IG51bWJlcltdIHtcbiAgbGV0IGZhY3RvcnM6IG51bWJlcltdID0gZ2V0RmFjdG9ycyhudW0pO1xuICBpZiAoZmFjdG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gW2ZhY3RvcnNbMV1dO1xuICB9XG4gIGxldCBwcmltZUNvbXBvc2l0OiBhbnkgPSBbXTtcbiAgcHJpbWVDb21wb3NpdC5wdXNoKGZhY3RvcnNbMV0pXG4gIHByaW1lQ29tcG9zaXQucHVzaChudW0gLyBmYWN0b3JzWzFdKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmltZUNvbXBvc2l0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzUHJpbWUocHJpbWVDb21wb3NpdFtpXSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwcmltZUNvbXBvc2l0W2ldID0gcHJpbWVDb21wb3NpdGlvbihwcmltZUNvbXBvc2l0W2ldKTtcbiAgfVxuICByZXR1cm4gdXRpbC5mbGF0dGVuKHByaW1lQ29tcG9zaXQpLnNvcnQodXRpbC5udW1iZXJTb3J0KTtcbn1cblxuY29uc29sZS5sb2cocHJpbWVDb21wb3NpdGlvbigzNjApKSIsImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbFwiXG5pbXBvcnQgKiBhcyBtYXRoIGZyb20gXCIuL21hdGhcIjtcblxuLypcblNPTFVUSU9OIFRFTVBMQVRFOlxuXG5mdW5jdGlvbiBwcm9ibGVtWCgpOiB2b2lkIHtcbiAgLy8gUXVlc3Rpb24gZ29lcyBoZXJlLi4uXG4gIGxldCBhbnN3ZXI6IGFueSA9IHVuZGVmaW5lZDtcbiAgY29uc29sZS5sb2coYFByb2JsZW0gWDogJHthbnN3ZXJ9YClcbn1cbiovXG5cbmZ1bmN0aW9uIHByb2JsZW0xKCk6IHZvaWQge1xuICAvKiBJZiB3ZSBsaXN0IGFsbCB0aGUgbmF0dXJhbCBudW1iZXJzIGJlbG93IDEwIHRoYXQgYXJlIG11bHRpcGxlcyBvZiAzIG9yIDUsIHdlIGdldCAzLCA1LCA2IGFuZCA5LiBUaGUgc3VtIG9mIHRoZXNlIG11bHRpcGxlcyBpcyAyMy5cblxuICBGaW5kIHRoZSBzdW0gb2YgYWxsIHRoZSBtdWx0aXBsZXMgb2YgMyBvciA1IGJlbG93IDEwMDAuICovXG4gIGxldCBhbnN3ZXI6IG51bWJlciA9IDA7XG4gIGZvciAobGV0IGk6IG51bWJlciA9IDE7IGkgPCAxMDAwOyBpKyspIHtcbiAgICBpZiAoaSAlIDMgPT09IDApIHtcbiAgICAgIGFuc3dlciArPSBpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChpICUgNSA9PT0gMCkge1xuICAgICAgYW5zd2VyICs9IGk7XG4gICAgfVxuICB9XG4gIGNvbnNvbGUubG9nKGBQcm9ibGVtIDE6ICR7YW5zd2VyfWApO1xufVxuXG5mdW5jdGlvbiBwcm9ibGVtMigpOiB2b2lkIHtcbiAgLyogRWFjaCBuZXcgdGVybSBpbiB0aGUgRmlib25hY2NpIHNlcXVlbmNlIGlzIGdlbmVyYXRlZCBieSBhZGRpbmcgdGhlIHByZXZpb3VzIHR3byB0ZXJtcy4gQnkgc3RhcnRpbmcgd2l0aCAxIGFuZCAyLCB0aGUgZmlyc3QgMTAgdGVybXMgd2lsbCBiZTpcblxuICAxLCAyLCAzLCA1LCA4LCAxMywgMjEsIDM0LCA1NSwgODksIC4uLlxuXG4gIEJ5IGNvbnNpZGVyaW5nIHRoZSB0ZXJtcyBpbiB0aGUgRmlib25hY2NpIHNlcXVlbmNlIHdob3NlIHZhbHVlcyBkbyBub3QgZXhjZWVkIGZvdXIgbWlsbGlvbiwgZmluZCB0aGUgc3VtIG9mIHRoZSBldmVuLXZhbHVlZCB0ZXJtcy4gKi9cbiAgbGV0IGFuc3dlcjogbnVtYmVyID0gMDtcbiAgbGV0IGZpYk51bTogbnVtYmVyID0gMDtcbiAgbGV0IGluZGV4OiBudW1iZXIgPSAwO1xuICB3aGlsZSAoZmliTnVtIDw9IDQwMDAwMDApIHtcbiAgICBmaWJOdW0gPSBtYXRoLmZpYm9uYWNjaShpbmRleCk7XG4gICAgaWYgKGZpYk51bSAlIDIgPT09IDApIHtcbiAgICAgIGFuc3dlciArPSBmaWJOdW07XG4gICAgfVxuICAgIGluZGV4Kys7XG4gIH1cbiAgY29uc29sZS5sb2coYFByb2JsZW0gMjogJHthbnN3ZXJ9YCk7XG59XG5cbmZ1bmN0aW9uIHByb2JsZW0zKCk6IHZvaWQge1xuICAvKiBUaGUgcHJpbWUgZmFjdG9ycyBvZiAxMzE5NSBhcmUgNSwgNywgMTMgYW5kIDI5LlxuXG4gIFdoYXQgaXMgdGhlIGxhcmdlc3QgcHJpbWUgZmFjdG9yIG9mIHRoZSBudW1iZXIgNjAwODUxNDc1MTQzID8gKi9cbiAgY29uc3QgQklHX05VTUJFUjogbnVtYmVyID0gNjAwODUxNDc1MTQzO1xuICBsZXQgYWxsUHJpbWVGYWN0b3JzOiBudW1iZXJbXSA9IG1hdGguZ2V0UHJpbWVGYWN0b3JzKEJJR19OVU1CRVIpO1xuICBsZXQgYW5zd2VyOiBudW1iZXIgPSBhbGxQcmltZUZhY3RvcnNbYWxsUHJpbWVGYWN0b3JzLmxlbmd0aCAtIDFdO1xuICBjb25zb2xlLmxvZyhgUHJvYmxlbSAyOiAke2Fuc3dlcn1gKTtcbn1cblxuZnVuY3Rpb24gcHJvYmxlbTQoKTogdm9pZCB7XG4gIC8vIEEgcGFsaW5kcm9taWMgbnVtYmVyIHJlYWRzIHRoZSBzYW1lIGJvdGggd2F5cy4gVGhlIGxhcmdlc3QgcGFsaW5kcm9tZSBtYWRlIGZyb20gdGhlIHByb2R1Y3Qgb2YgdHdvIDItZGlnaXQgbnVtYmVycyBpcyA5MDA5ID0gOTEgw5cgOTkuXG5cbiAgLy8gRmluZCB0aGUgbGFyZ2VzdCBwYWxpbmRyb21lIG1hZGUgZnJvbSB0aGUgcHJvZHVjdCBvZiB0d28gMy1kaWdpdCBudW1iZXJzLlxuICBpbnRlcmZhY2UgUHJvZHVjdCB7XG4gICAgcmVzdWx0OiBudW1iZXIsXG4gICAgaTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGo6IG51bWJlciB8IHVuZGVmaW5lZFxuICB9XG4gIGxldCBtYXg6IFByb2R1Y3QgPSB7XG4gICAgcmVzdWx0OiAtSW5maW5pdHksXG4gICAgaTogdW5kZWZpbmVkLFxuICAgIGo6IHVuZGVmaW5lZFxuICB9O1xuICBmb3IgKGxldCBpXyA9IDk5OTsgaV8gPj0gOTk7IGlfLS0pIHtcbiAgICBmb3IgKGxldCBqXyA9IDk5OTsgal8gPj0gOTk7IGpfLS0pIHtcbiAgICAgIGxldCBwcm9kdWN0OiBudW1iZXIgfCBQcm9kdWN0ID0gaV8gKiBqXztcbiAgICAgIGlmICh1dGlsLmlzUGFsaW5kcm9tZShwcm9kdWN0KSkge1xuICAgICAgICBwcm9kdWN0ID0ge1xuICAgICAgICAgIHJlc3VsdDogcHJvZHVjdCxcbiAgICAgICAgICBpOiBpXyxcbiAgICAgICAgICBqOiBqX1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9kdWN0LnJlc3VsdCA+IG1heC5yZXN1bHQpIHtcbiAgICAgICAgICBtYXggPSBwcm9kdWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnNvbGUubG9nKGBQcm9ibGVtIDI6ICR7bWF4Lml9IHggJHttYXguan0gPSAke21heC5yZXN1bHR9YCk7XG59XG5cbmZ1bmN0aW9uIHByb2JsZW01KCk6IHZvaWQge1xuICAvLyAyNTIwIGlzIHRoZSBzbWFsbGVzdCBudW1iZXIgdGhhdCBjYW4gYmUgZGl2aWRlZCBieSBlYWNoIG9mIHRoZSBudW1iZXJzIGZyb20gMSB0byAxMCB3aXRob3V0IGFueSByZW1haW5kZXIuXG5cbiAgLy8gV2hhdCBpcyB0aGUgc21hbGxlc3QgcG9zaXRpdmUgbnVtYmVyIHRoYXQgaXMgZXZlbmx5IGRpdmlzaWJsZSBieSBhbGwgb2YgdGhlIG51bWJlcnMgZnJvbSAxIHRvIDIwP1xuICBsZXQgYW5zd2VyOiBudW1iZXJbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IDIxOyBpKyspIHtcbiAgICBsZXQgY29tcG9zaXQgPSBtYXRoLnByaW1lQ29tcG9zaXRpb24oaSk7XG4gICAgZm9yIChsZXQgcHJpbWUgb2YgY29tcG9zaXQpIHtcbiAgICAgIGlmIChhbnN3ZXIuaW5jbHVkZXMocHJpbWUpKSB7fVxuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKGBQcm9ibGVtIDU6ICR7YW5zd2VyfWApXG59XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XG4gIG1hdGguaXNQcmltZShpKTtcbn1cblxuLyoqKioqIERPIE5PVCBBTFRFUiBDT0RFIEJFTE9XIFRISVMgTElORSAqKioqKi9cbmNvbnNvbGUubG9nKFwiVXBkYXRpbmcgc2F2ZWQgZGF0YS4uLlwiKTtcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiLi9tYXRoXCI7XG5cbmNvbnNvbGUubG9nKFwiU29ydGluZyBwcmltZSBudW1iZXJzLi4uXCIpXG5qc29uLnByaW1lLmRhdGEuc29ydCh1dGlsLm51bWJlclNvcnQpO1xuXG5jb25zb2xlLmxvZyhcIldyaXRpbmcgdG8gZmlsZS4uLlwiKTtcbmxldCBmczogYW55ID0gcmVxdWlyZShcImZzXCIpO1xuZnMud3JpdGVGaWxlKFwiLi91dGlsaXR5L3NlcS5qc29uXCIsIEpTT04uc3RyaW5naWZ5KGpzb24sIG51bGwsIDQpLCAoZXJyOiBhbnkpID0+IHtcbiAgaWYgKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfTtcbiAgY29uc29sZS5sb2coXCJTYXZlIGNvbXBsZXRlZC5cIik7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=